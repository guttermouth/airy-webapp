'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * For purposes of API consistency across SDKs, this class is not exposed.
 * Instead, customers will see only the layer.Message class.
 *
 * @class layer.Message.ChannelMessage
 * @extends layer.Message
 */
var Root = require('../root');
var Message = require('./message');
var ClientRegistry = require('../client-registry');
var LayerError = require('../layer-error');
var Constants = require('../const');
var logger = require('../logger');

var ChannelMessage = function (_Message) {
  _inherits(ChannelMessage, _Message);

  function ChannelMessage(options) {
    _classCallCheck(this, ChannelMessage);

    if (options.channel) options.conversationId = options.channel.id;

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ChannelMessage).call(this, options));

    var client = _this.getClient();
    _this.isInitializing = false;
    if (options && options.fromServer) {
      client._addMessage(_this);
    }
    return _this;
  }

  /**
   * Get the layer.Channel associated with this layer.Message.ChannelMessage.
   *
   * @method getConversation
   * @param {Boolean} load       Pass in true if the layer.Channel should be loaded if not found locally
   * @return {layer.Channel}
   */


  _createClass(ChannelMessage, [{
    key: 'getConversation',
    value: function getConversation(load) {
      if (this.conversationId) {
        return ClientRegistry.get(this.clientId).getChannel(this.conversationId, load);
      }
      return null;
    }

    /**
     * Send a Read or Delivery Receipt to the server; not supported yet.
     *
     * @method sendReceipt
     * @param {string} [type=layer.Constants.RECEIPT_STATE.READ] - One of layer.Constants.RECEIPT_STATE.READ or layer.Constants.RECEIPT_STATE.DELIVERY
     * @return {layer.Message.ChannelMessage} this
     */

  }, {
    key: 'sendReceipt',
    value: function sendReceipt() {
      var type = arguments.length <= 0 || arguments[0] === undefined ? Constants.RECEIPT_STATE.READ : arguments[0];

      logger.warn('Receipts not supported for Channel Messages yet');
      return this;
    }

    /**
     * Delete the Message from the server.
     *
     * ```
     * message.delete();
     * ```
     *
     * @method delete
     */

  }, {
    key: 'delete',
    value: function _delete() {
      if (this.isDestroyed) throw new Error(LayerError.dictionary.isDestroyed);

      var id = this.id;
      var client = this.getClient();
      this._xhr({
        url: '',
        method: 'DELETE'
      }, function (result) {
        if (!result.success && (!result.data || result.data.id !== 'not_found' && result.data.id !== 'authentication_required')) {
          Message.load(id, client);
        }
      });

      this._deleted();
      this.destroy();
    }

    /**
     * On loading this one item from the server, after _populateFromServer has been called, due final setup.
     *
     * @method _loaded
     * @private
     * @param {Object} data  Data from server
     */

  }, {
    key: '_loaded',
    value: function _loaded(data) {
      this.conversationId = data.channel.id;
      this.getClient()._addMessage(this);
    }

    /**
     * Creates a message from the server's representation of a message.
     *
     * Similar to _populateFromServer, however, this method takes a
     * message description and returns a new message instance using _populateFromServer
     * to setup the values.
     *
     * @method _createFromServer
     * @protected
     * @static
     * @param  {Object} message - Server's representation of the message
     * @param  {layer.Client} client
     * @return {layer.Message.ChannelMessage}
     */

  }], [{
    key: '_createFromServer',
    value: function _createFromServer(message, client) {
      var fromWebsocket = message.fromWebsocket;
      var conversationId = void 0;
      if (message.channel) {
        conversationId = message.channel.id;
      } else {
        conversationId = message.conversationId;
      }

      return new ChannelMessage({
        conversationId: conversationId,
        fromServer: message,
        clientId: client.appId,
        _fromDB: message._fromDB,
        _notify: fromWebsocket && message.is_unread && message.sender.user_id !== client.user.userId
      });
    }
  }]);

  return ChannelMessage;
}(Message);

/*
 * True if this Message has been read by this user.
 *
 * You can change isRead programatically
 *
 *      m.isRead = true;
 *
 * This will automatically notify the server that the message was read by your user.
 * @type {Boolean}
 */


ChannelMessage.prototype.isRead = false;

ChannelMessage.inObjectIgnore = Message.inObjectIgnore;
ChannelMessage._supportedEvents = [].concat(Message._supportedEvents);
Root.initClass.apply(ChannelMessage, [ChannelMessage, 'ChannelMessage']);
module.exports = ChannelMessage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbHMvY2hhbm5lbC1tZXNzYWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7OztBQU9BLElBQU0sT0FBTyxRQUFRLFNBQVIsQ0FBYjtBQUNBLElBQU0sVUFBVSxRQUFRLFdBQVIsQ0FBaEI7QUFDQSxJQUFNLGlCQUFpQixRQUFRLG9CQUFSLENBQXZCO0FBQ0EsSUFBTSxhQUFhLFFBQVEsZ0JBQVIsQ0FBbkI7QUFDQSxJQUFNLFlBQVksUUFBUSxVQUFSLENBQWxCO0FBQ0EsSUFBTSxTQUFTLFFBQVEsV0FBUixDQUFmOztJQUVNLGM7OztBQUNKLDBCQUFZLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsUUFBSSxRQUFRLE9BQVosRUFBcUIsUUFBUSxjQUFSLEdBQXlCLFFBQVEsT0FBUixDQUFnQixFQUF6Qzs7QUFERixrR0FFYixPQUZhOztBQUluQixRQUFNLFNBQVMsTUFBSyxTQUFMLEVBQWY7QUFDQSxVQUFLLGNBQUwsR0FBc0IsS0FBdEI7QUFDQSxRQUFJLFdBQVcsUUFBUSxVQUF2QixFQUFtQztBQUNqQyxhQUFPLFdBQVA7QUFDRDtBQVJrQjtBQVNwQjs7QUFFRDs7Ozs7Ozs7Ozs7b0NBT2dCLEksRUFBTTtBQUNwQixVQUFJLEtBQUssY0FBVCxFQUF5QjtBQUN2QixlQUFPLGVBQWUsR0FBZixDQUFtQixLQUFLLFFBQXhCLEVBQWtDLFVBQWxDLENBQTZDLEtBQUssY0FBbEQsRUFBa0UsSUFBbEUsQ0FBUDtBQUNEO0FBQ0QsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7a0NBT2lEO0FBQUEsVUFBckMsSUFBcUMseURBQTlCLFVBQVUsYUFBVixDQUF3QixJQUFNOztBQUMvQyxhQUFPLElBQVAsQ0FBWSxpREFBWjtBQUNBLGFBQU8sSUFBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7OEJBU1M7QUFDUCxVQUFJLEtBQUssV0FBVCxFQUFzQixNQUFNLElBQUksS0FBSixDQUFVLFdBQVcsVUFBWCxDQUFzQixXQUFoQyxDQUFOOztBQUV0QixVQUFNLEtBQUssS0FBSyxFQUFoQjtBQUNBLFVBQU0sU0FBUyxLQUFLLFNBQUwsRUFBZjtBQUNBLFdBQUssSUFBTCxDQUFVO0FBQ1IsYUFBSyxFQURHO0FBRVIsZ0JBQVE7QUFGQSxPQUFWLEVBR0csVUFBQyxNQUFELEVBQVk7QUFDYixZQUFJLENBQUMsT0FBTyxPQUFSLEtBQW9CLENBQUMsT0FBTyxJQUFSLElBQWlCLE9BQU8sSUFBUCxDQUFZLEVBQVosS0FBbUIsV0FBbkIsSUFBa0MsT0FBTyxJQUFQLENBQVksRUFBWixLQUFtQix5QkFBMUYsQ0FBSixFQUEySDtBQUN6SCxrQkFBUSxJQUFSLENBQWEsRUFBYixFQUFpQixNQUFqQjtBQUNEO0FBQ0YsT0FQRDs7QUFTQSxXQUFLLFFBQUw7QUFDQSxXQUFLLE9BQUw7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs0QkFPUSxJLEVBQU07QUFDWixXQUFLLGNBQUwsR0FBc0IsS0FBSyxPQUFMLENBQWEsRUFBbkM7QUFDQSxXQUFLLFNBQUwsR0FBaUIsV0FBakIsQ0FBNkIsSUFBN0I7QUFDRDs7QUFHRDs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBY3lCLE8sRUFBUyxNLEVBQVE7QUFDeEMsVUFBTSxnQkFBZ0IsUUFBUSxhQUE5QjtBQUNBLFVBQUksdUJBQUo7QUFDQSxVQUFJLFFBQVEsT0FBWixFQUFxQjtBQUNuQix5QkFBaUIsUUFBUSxPQUFSLENBQWdCLEVBQWpDO0FBQ0QsT0FGRCxNQUVPO0FBQ0wseUJBQWlCLFFBQVEsY0FBekI7QUFDRDs7QUFFRCxhQUFPLElBQUksY0FBSixDQUFtQjtBQUN4QixzQ0FEd0I7QUFFeEIsb0JBQVksT0FGWTtBQUd4QixrQkFBVSxPQUFPLEtBSE87QUFJeEIsaUJBQVMsUUFBUSxPQUpPO0FBS3hCLGlCQUFTLGlCQUFpQixRQUFRLFNBQXpCLElBQXNDLFFBQVEsTUFBUixDQUFlLE9BQWYsS0FBMkIsT0FBTyxJQUFQLENBQVk7QUFMOUQsT0FBbkIsQ0FBUDtBQU9EOzs7O0VBNUcwQixPOztBQStHN0I7Ozs7Ozs7Ozs7OztBQVVBLGVBQWUsU0FBZixDQUF5QixNQUF6QixHQUFrQyxLQUFsQzs7QUFFQSxlQUFlLGNBQWYsR0FBZ0MsUUFBUSxjQUF4QztBQUNBLGVBQWUsZ0JBQWYsR0FBa0MsR0FBRyxNQUFILENBQVUsUUFBUSxnQkFBbEIsQ0FBbEM7QUFDQSxLQUFLLFNBQUwsQ0FBZSxLQUFmLENBQXFCLGNBQXJCLEVBQXFDLENBQUMsY0FBRCxFQUFpQixnQkFBakIsQ0FBckM7QUFDQSxPQUFPLE9BQVAsR0FBaUIsY0FBakIiLCJmaWxlIjoiY2hhbm5lbC1tZXNzYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGb3IgcHVycG9zZXMgb2YgQVBJIGNvbnNpc3RlbmN5IGFjcm9zcyBTREtzLCB0aGlzIGNsYXNzIGlzIG5vdCBleHBvc2VkLlxuICogSW5zdGVhZCwgY3VzdG9tZXJzIHdpbGwgc2VlIG9ubHkgdGhlIGxheWVyLk1lc3NhZ2UgY2xhc3MuXG4gKlxuICogQGNsYXNzIGxheWVyLk1lc3NhZ2UuQ2hhbm5lbE1lc3NhZ2VcbiAqIEBleHRlbmRzIGxheWVyLk1lc3NhZ2VcbiAqL1xuY29uc3QgUm9vdCA9IHJlcXVpcmUoJy4uL3Jvb3QnKTtcbmNvbnN0IE1lc3NhZ2UgPSByZXF1aXJlKCcuL21lc3NhZ2UnKTtcbmNvbnN0IENsaWVudFJlZ2lzdHJ5ID0gcmVxdWlyZSgnLi4vY2xpZW50LXJlZ2lzdHJ5Jyk7XG5jb25zdCBMYXllckVycm9yID0gcmVxdWlyZSgnLi4vbGF5ZXItZXJyb3InKTtcbmNvbnN0IENvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5jb25zdCBsb2dnZXIgPSByZXF1aXJlKCcuLi9sb2dnZXInKTtcblxuY2xhc3MgQ2hhbm5lbE1lc3NhZ2UgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmNoYW5uZWwpIG9wdGlvbnMuY29udmVyc2F0aW9uSWQgPSBvcHRpb25zLmNoYW5uZWwuaWQ7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICBjb25zdCBjbGllbnQgPSB0aGlzLmdldENsaWVudCgpO1xuICAgIHRoaXMuaXNJbml0aWFsaXppbmcgPSBmYWxzZTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmZyb21TZXJ2ZXIpIHtcbiAgICAgIGNsaWVudC5fYWRkTWVzc2FnZSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYXllci5DaGFubmVsIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxheWVyLk1lc3NhZ2UuQ2hhbm5lbE1lc3NhZ2UuXG4gICAqXG4gICAqIEBtZXRob2QgZ2V0Q29udmVyc2F0aW9uXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gbG9hZCAgICAgICBQYXNzIGluIHRydWUgaWYgdGhlIGxheWVyLkNoYW5uZWwgc2hvdWxkIGJlIGxvYWRlZCBpZiBub3QgZm91bmQgbG9jYWxseVxuICAgKiBAcmV0dXJuIHtsYXllci5DaGFubmVsfVxuICAgKi9cbiAgZ2V0Q29udmVyc2F0aW9uKGxvYWQpIHtcbiAgICBpZiAodGhpcy5jb252ZXJzYXRpb25JZCkge1xuICAgICAgcmV0dXJuIENsaWVudFJlZ2lzdHJ5LmdldCh0aGlzLmNsaWVudElkKS5nZXRDaGFubmVsKHRoaXMuY29udmVyc2F0aW9uSWQsIGxvYWQpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGEgUmVhZCBvciBEZWxpdmVyeSBSZWNlaXB0IHRvIHRoZSBzZXJ2ZXI7IG5vdCBzdXBwb3J0ZWQgeWV0LlxuICAgKlxuICAgKiBAbWV0aG9kIHNlbmRSZWNlaXB0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZT1sYXllci5Db25zdGFudHMuUkVDRUlQVF9TVEFURS5SRUFEXSAtIE9uZSBvZiBsYXllci5Db25zdGFudHMuUkVDRUlQVF9TVEFURS5SRUFEIG9yIGxheWVyLkNvbnN0YW50cy5SRUNFSVBUX1NUQVRFLkRFTElWRVJZXG4gICAqIEByZXR1cm4ge2xheWVyLk1lc3NhZ2UuQ2hhbm5lbE1lc3NhZ2V9IHRoaXNcbiAgICovXG4gIHNlbmRSZWNlaXB0KHR5cGUgPSBDb25zdGFudHMuUkVDRUlQVF9TVEFURS5SRUFEKSB7XG4gICAgbG9nZ2VyLndhcm4oJ1JlY2VpcHRzIG5vdCBzdXBwb3J0ZWQgZm9yIENoYW5uZWwgTWVzc2FnZXMgeWV0Jyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIHRoZSBNZXNzYWdlIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogYGBgXG4gICAqIG1lc3NhZ2UuZGVsZXRlKCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAbWV0aG9kIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKCkge1xuICAgIGlmICh0aGlzLmlzRGVzdHJveWVkKSB0aHJvdyBuZXcgRXJyb3IoTGF5ZXJFcnJvci5kaWN0aW9uYXJ5LmlzRGVzdHJveWVkKTtcblxuICAgIGNvbnN0IGlkID0gdGhpcy5pZDtcbiAgICBjb25zdCBjbGllbnQgPSB0aGlzLmdldENsaWVudCgpO1xuICAgIHRoaXMuX3hocih7XG4gICAgICB1cmw6ICcnLFxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICB9LCAocmVzdWx0KSA9PiB7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzICYmICghcmVzdWx0LmRhdGEgfHwgKHJlc3VsdC5kYXRhLmlkICE9PSAnbm90X2ZvdW5kJyAmJiByZXN1bHQuZGF0YS5pZCAhPT0gJ2F1dGhlbnRpY2F0aW9uX3JlcXVpcmVkJykpKSB7XG4gICAgICAgIE1lc3NhZ2UubG9hZChpZCwgY2xpZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2RlbGV0ZWQoKTtcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPbiBsb2FkaW5nIHRoaXMgb25lIGl0ZW0gZnJvbSB0aGUgc2VydmVyLCBhZnRlciBfcG9wdWxhdGVGcm9tU2VydmVyIGhhcyBiZWVuIGNhbGxlZCwgZHVlIGZpbmFsIHNldHVwLlxuICAgKlxuICAgKiBAbWV0aG9kIF9sb2FkZWRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgIERhdGEgZnJvbSBzZXJ2ZXJcbiAgICovXG4gIF9sb2FkZWQoZGF0YSkge1xuICAgIHRoaXMuY29udmVyc2F0aW9uSWQgPSBkYXRhLmNoYW5uZWwuaWQ7XG4gICAgdGhpcy5nZXRDbGllbnQoKS5fYWRkTWVzc2FnZSh0aGlzKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBtZXNzYWdlIGZyb20gdGhlIHNlcnZlcidzIHJlcHJlc2VudGF0aW9uIG9mIGEgbWVzc2FnZS5cbiAgICpcbiAgICogU2ltaWxhciB0byBfcG9wdWxhdGVGcm9tU2VydmVyLCBob3dldmVyLCB0aGlzIG1ldGhvZCB0YWtlcyBhXG4gICAqIG1lc3NhZ2UgZGVzY3JpcHRpb24gYW5kIHJldHVybnMgYSBuZXcgbWVzc2FnZSBpbnN0YW5jZSB1c2luZyBfcG9wdWxhdGVGcm9tU2VydmVyXG4gICAqIHRvIHNldHVwIHRoZSB2YWx1ZXMuXG4gICAqXG4gICAqIEBtZXRob2QgX2NyZWF0ZUZyb21TZXJ2ZXJcbiAgICogQHByb3RlY3RlZFxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSAge09iamVjdH0gbWVzc2FnZSAtIFNlcnZlcidzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtZXNzYWdlXG4gICAqIEBwYXJhbSAge2xheWVyLkNsaWVudH0gY2xpZW50XG4gICAqIEByZXR1cm4ge2xheWVyLk1lc3NhZ2UuQ2hhbm5lbE1lc3NhZ2V9XG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZUZyb21TZXJ2ZXIobWVzc2FnZSwgY2xpZW50KSB7XG4gICAgY29uc3QgZnJvbVdlYnNvY2tldCA9IG1lc3NhZ2UuZnJvbVdlYnNvY2tldDtcbiAgICBsZXQgY29udmVyc2F0aW9uSWQ7XG4gICAgaWYgKG1lc3NhZ2UuY2hhbm5lbCkge1xuICAgICAgY29udmVyc2F0aW9uSWQgPSBtZXNzYWdlLmNoYW5uZWwuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnZlcnNhdGlvbklkID0gbWVzc2FnZS5jb252ZXJzYXRpb25JZDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IENoYW5uZWxNZXNzYWdlKHtcbiAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgZnJvbVNlcnZlcjogbWVzc2FnZSxcbiAgICAgIGNsaWVudElkOiBjbGllbnQuYXBwSWQsXG4gICAgICBfZnJvbURCOiBtZXNzYWdlLl9mcm9tREIsXG4gICAgICBfbm90aWZ5OiBmcm9tV2Vic29ja2V0ICYmIG1lc3NhZ2UuaXNfdW5yZWFkICYmIG1lc3NhZ2Uuc2VuZGVyLnVzZXJfaWQgIT09IGNsaWVudC51c2VyLnVzZXJJZCxcbiAgICB9KTtcbiAgfVxufVxuXG4vKlxuICogVHJ1ZSBpZiB0aGlzIE1lc3NhZ2UgaGFzIGJlZW4gcmVhZCBieSB0aGlzIHVzZXIuXG4gKlxuICogWW91IGNhbiBjaGFuZ2UgaXNSZWFkIHByb2dyYW1hdGljYWxseVxuICpcbiAqICAgICAgbS5pc1JlYWQgPSB0cnVlO1xuICpcbiAqIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5IG5vdGlmeSB0aGUgc2VydmVyIHRoYXQgdGhlIG1lc3NhZ2Ugd2FzIHJlYWQgYnkgeW91ciB1c2VyLlxuICogQHR5cGUge0Jvb2xlYW59XG4gKi9cbkNoYW5uZWxNZXNzYWdlLnByb3RvdHlwZS5pc1JlYWQgPSBmYWxzZTtcblxuQ2hhbm5lbE1lc3NhZ2UuaW5PYmplY3RJZ25vcmUgPSBNZXNzYWdlLmluT2JqZWN0SWdub3JlO1xuQ2hhbm5lbE1lc3NhZ2UuX3N1cHBvcnRlZEV2ZW50cyA9IFtdLmNvbmNhdChNZXNzYWdlLl9zdXBwb3J0ZWRFdmVudHMpO1xuUm9vdC5pbml0Q2xhc3MuYXBwbHkoQ2hhbm5lbE1lc3NhZ2UsIFtDaGFubmVsTWVzc2FnZSwgJ0NoYW5uZWxNZXNzYWdlJ10pO1xubW9kdWxlLmV4cG9ydHMgPSBDaGFubmVsTWVzc2FnZTtcbiJdfQ==
