/**
 * The Layer Code Block TextHandler replaces all \`\`\` with code blocks, and all \` with inline code blocks.
 *
 * @class layerUI.handlers.text.CodeBlocks
 */
'use strict';

var _base = require('../../base');

var _base2 = _interopRequireDefault(_base);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_base2.default.registerTextHandler({
  name: 'code-blocks',
  order: 500,
  requiresEnable: true,
  handler: function handler(textData) {
    var text = textData.text.replace(/```[\s\S]*?```/g, function (block) {
      return '<pre class="code_block">' + block.substring(3, block.length - 3) + '</pre>';
    });

    // note .* means single line; [\s\S]* means multiline
    text = text.replace(/`.*?`/g, function (block) {
      return '<code>' + block.substring(1, block.length - 1) + '</code>';
    });
    textData.text = text;
  }
}); 