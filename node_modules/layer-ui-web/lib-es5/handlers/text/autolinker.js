/**
 * The Layer Image TextHandler replaces all image URLs with image tags
 *
 * @class layerUI.handlers.text.Autolinker
 */
'use strict';

var _autolinker = require('autolinker');

var _autolinker2 = _interopRequireDefault(_autolinker);

var _base = require('../../base');

var _base2 = _interopRequireDefault(_base);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var autolinker = new _autolinker2.default({
  truncate: {
    length: 40,
    location: 'middle'
  },
  className: 'layer-parsed-url'
});

_base2.default.registerTextHandler({
  name: 'autolinker',
  order: 400,
  requiresEnable: true,
  handler: function handler(textData) {
    textData.text = autolinker.link(textData.text);
  }
});