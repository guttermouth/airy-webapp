/**
 * The Layer Image TextHandler replaces all image URLs with image tags
 *
 * @class layerUI.handlers.text.Images
 */
'use strict';

var _base = require('../../base');

var _base2 = _interopRequireDefault(_base);

var _isUrl = require('../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }


_base2.default.registerTextHandler({
  name: 'images',
  order: 100,
  requiresEnable: true,
  handler: function handler(textData) {
    var matches = textData.text.match((0, _isUrl2.default)(['png', 'jpg', 'jpeg', 'gif']));
    if (matches) {
      matches.forEach(function (match) {
        return textData.afterText.push('<img class="layer-parsed-image" src="' + match + '"></img>');
      });
    }
  }
});